{
  "class": "CommandLineTool",
  "name": "fs-tox",
  "description": "Create toxicity predictions from raw data",
  "baseCommand": ["/bin/bash", "-c"],
  "arguments": [
    "python src/data/raw_to_assays.py $(inputs.unformatted_data.filepath) ./data/processed/assays --dataset $(inputs.dataset.default)",
    "python ./src/features/make_features.py ./data/processed/assays ./data/processed/representations --feature $(inputs.features.default)",
    "python ./src/models/train_model.py ./data/processed/representations ./data/processed/assays ./data/processed/models -d $(inputs.dataset.default) -r $(inputs.feature.default) -m $(inputs.model.default)",
    "python ./src/models/predict.py ./data/processed/models ./data/processed/assays ./data/processed/representations ./data/processed/predictions -t -d $(inputs.dataset.default) --representation $(inputs.feature.default) --model $(inputs.model.default)",
    "python ./src/models/evaluation.py ./data/processed/predictions ./data/processed/scores -d $(inputs.dataset.default))"
  ],
  "dockerPull": "sethhowes/fs-tox@sha256:715516b10859255180bb586be9935ab407a027ce3d574fbbe9d9d328f7c29cf8",
  "gpuBool": false,
  "networkBool": false,
  "inputs": {
    "unformatted_data": {
      "type": "File",
      "glob": ["*.csv"]
    },
    "dataset": {
      "type": "string",
      "default": "tox21"
    },
    "feature": {
      "type": "string",
      "default": "ecfp4_1024"
    },
    "model": {
      "type": "string",
      "default": "logistic"
    }
  },
  "outputs": {
    "formatted_assays": {
      "type": "Array",
      "item": "File",
      "glob": ["*.parquet"]
    },
    "model_params": {
      "type": "Array",
      "item": "File",
      "glob": ["*.pkl"]
    },
    "representations": {
      "type": "Array",
      "item": "File",
      "glob": ["*.parquet"]
    },
    "predictions": {
      "type": "Array",
      "item": "File",
      "glob": ["*.parquet"]
    },
    "scores": {
      "type": "Array",
      "item": "File",
      "glob": ["*.parquet"]
    }
  }
}